(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{241:function(e,t,n){"use strict";var a=n(101),r=n(1),c=n.n(r),o=n(2),u=n(158),i=n(29),s=n.n(i),l=n(6),f=n.n(l),d=n(242),h=n(351),b=n(352),m=n(349),p=n(347),g=n(348),v=n(350),S=n(26),E=n(5),j=n(15),w=n(51),O=n(69);n(305),n(175);O.initializeApp({apiKey:"AIzaSyA8CayNjq_3waCPH533_Haij8scNzIM_H8",authDomain:"evolve-6b9a3.firebaseapp.com",databaseURL:"https://evolve-6b9a3.firebaseio.com",projectId:"evolve-6b9a3",storageBucket:"evolve-6b9a3.appspot.com",messagingSenderId:"408948735077",appId:"1:408948735077:web:11c577a47ef8c0acac5a8c",measurementId:"G-S5DY8CVKB0"}),h.a({handleNotification:function(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{shouldShowAlert:!0,shouldPlaySound:!1,shouldSetBadge:!1});case 1:case"end":return e.stop()}}),null,null,null,Promise)}});var x=function(e){var t=e.navigation,n=Object(r.useState)(""),o=s()(n,2),u=o[0],i=o[1],l=Object(r.useState)(!1),h=s()(l,2),x=h[0],y=h[1],C=Object(r.useState)(""),k=s()(C,2),I=(k[0],k[1]),A=Object(r.useState)(!1),B=s()(A,2),H=(B[0],B[1]),N=Object(r.useRef)(),T=Object(r.useRef)(),U=O.database().ref("users").child(O.auth().currentUser.uid);Object(r.useEffect)((function(){U.on("value",(function(e){var t=e.val(),n=t.phoneNumber||"";y(t.checkBoxStateQuote||!1),i(n)}))}),[]);var L=function(){return function(){var e,t,n,a,r,c;return f.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!d.a.isDevice){o.next=21;break}return o.next=3,f.a.awrap(v.c(v.a));case 3:if(t=o.sent,n=t.status,a=n,"granted"===n){o.next=12;break}return o.next=9,f.a.awrap(v.b(v.a));case 9:r=o.sent,c=r.status,a=c;case 12:if("granted"===a){o.next=15;break}return alert("Failed to get push token for push notification!"),o.abrupt("return");case 15:return o.next=17,f.a.awrap(m.a());case 17:e=o.sent.data,console.log(e),o.next=21;break;case 21:return"android"===j.a.OS&&p.a("default",{name:"default",importance:g.a.MAX,vibrationPattern:[0,250,250,250],lightColor:"#FF231F7C"}),o.abrupt("return",e);case 23:case"end":return o.stop()}}),null,null,null,Promise)}().then((function(e){I(e),U.update({ExpoPushToken:e})})),N.current=b.a((function(e){H(e)})),T.current=b.b((function(e){console.log(e)})),function(){b.c(N),b.c(T)}};return Object(r.useEffect)((function(){if("web"!=j.a.OS)return L()}),[]),c.a.createElement(E.a,{style:P.container},c.a.createElement(S.a,null,"Enter Your Phone Number to Receive Bot Alerts"),c.a.createElement(w.c,{placeholder:"Phone Number",onChangeText:i,value:u}),c.a.createElement(w.a,{onPress:function(){U.update({phoneNumber:u})},title:"Submit"}),c.a.createElement(w.b,{title:"Quote Bot",checked:x,onPress:function(){U.update({checkBoxStateQuote:!x}),y(!x)}}),c.a.createElement(w.a,{onPress:function(){O.auth().signOut().then((function(e){console.log({response:e})})).catch((function(e){console.log({err:e})})).then((function(e){t.navigate("Login")}))},title:"Sign Out"}),c.a.createElement(a.a,{style:"auto"}))},P=o.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}});var y=function(e){var t=e.navigation,n=Object(r.useState)(""),a=s()(n,2),o=a[0],u=a[1],i=Object(r.useState)(""),l=s()(i,2),f=l[0],d=l[1],h=Object(r.useState)(""),b=s()(h,2),m=b[0],p=b[1],g=Object(r.useState)(!1),v=s()(g,2),x=(v[0],v[1]),P=Object(r.useState)(0),y=s()(P,2),k=(y[0],y[1]);return Object(r.useEffect)((function(){O.auth().onAuthStateChanged((function(e){null!=e&&(t.navigate("Home"),console.log("We are authenticated now!")),console.log({user:e})}))}),[]),c.a.createElement(E.a,{style:C.container},c.a.createElement(w.c,{placeholder:"Email",onChangeText:d,value:f}),c.a.createElement(w.c,{placeholder:"Password",secureTextEntry:!0,onChangeText:u,value:o}),c.a.createElement(w.a,{onPress:function(){""===f?(p("Email can't be empty."),k(1)):""===o?(p("Password can't be empty."),k(1)):(x(!0),function(e){var t=e.email,n=e.password;return O.auth().signInWithEmailAndPassword(t,n)}({email:f,password:o}).then((function(e){var n=e.user.uid;O.database().ref("users").child(n).once("value").then((function(e){var n=e.val();console.log({user:n}),t.navigate("Home",{user:n})}))})).catch((function(e){x(!1),p(String(e)),k(1)})))},title:"Login"}),"web"==j.a.OS?c.a.createElement(w.a,{onPress:function(){(function(){var e=new O.auth.GoogleAuthProvider;return console.log({provider:e}),O.auth().signInWithPopup(e).then((function(e){return e})).catch((function(e){return console.log({error:e})}))})().then((function(e){var n=e.user.uid,a={id:n,email:e.user.email};O.database().ref("users").child(n).update(a).then((function(){t.navigate("Home",{user:a})})).catch((function(e){alert(e)}))}))},title:"Google"}):null,c.a.createElement(w.a,{onPress:function(){t.navigate("SignUp")},title:"SignUp"}),c.a.createElement(S.a,null,m))},C=o.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}});var k=function(e){var t=e.navigation,n=Object(r.useState)(""),a=s()(n,2),o=a[0],u=a[1],i=Object(r.useState)(""),l=s()(i,2),f=l[0],d=l[1],h=Object(r.useState)(""),b=s()(h,2),m=b[0],p=b[1],g=Object(r.useState)(!1),v=s()(g,2),j=(v[0],v[1]),x=Object(r.useState)(0),P=s()(x,2),y=(P[0],P[1]);return c.a.createElement(E.a,{style:I.container},c.a.createElement(w.c,{placeholder:"Email",onChangeText:d,value:f}),c.a.createElement(w.c,{placeholder:"Password",secureTextEntry:!0,onChangeText:u,value:o}),c.a.createElement(w.a,{onPress:function(){""===f?(p("Email can't be empty."),y(1)):""===o?(p("Password can't be empty."),y(1)):(j(!0),function(e){var t=e.email,n=e.password;return O.auth().createUserWithEmailAndPassword(t,n)}({email:f,password:o}).then((function(e){var n=e.user.uid,a={id:n,email:f};O.database().ref("users").child(n).set(a).then((function(){t.navigate("Home",{user:a})})).catch((function(e){alert(e)}))})).catch((function(e){j(!1),console.log({error:e}),p(String(e)),y(1)})))},title:"Sign Up"}),c.a.createElement(w.a,{onPress:function(){t.navigate("Login")},title:"Back"}),c.a.createElement(S.a,null,m))},I=o.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}}),A=Object(u.createAppContainer)(Object(u.createSwitchNavigator)({Login:{screen:y},Home:{screen:x},SignUp:{screen:k}},{headerMode:"none",cardStyle:{backgroundColor:"white"}}));t.a=A,o.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}})},244:function(e,t,n){e.exports=n(331)}},[[244,1,2]]]);
//# sourceMappingURL=app.c4df3467.chunk.js.map